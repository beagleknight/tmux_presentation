<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="apple-touch-icon" href="resources/images/icon@2x.png"/>
    <link rel="apple-touch-startup-image" href="resources/images/splash.png" />

    <title>tmux - terminal multiplexer</title>

    <link rel="stylesheet" href="http://kinout.tapquo.com/build/kinout-1.0.css">
    <!--<link rel="stylesheet" href="assets/css/theme.kinout.css">-->
    <link href="assets/javascript/rainbow/themes/blackboard.css" rel="stylesheet" type="text/css">
</head>

<body>
  <div class="kinout">
    <section>
      <article>
        <h1>tmux</h1>
        <h4><mark>terminal multiplexer</mark></h4>
      </article>
    </section>

    <section data-image="http://2.bp.blogspot.com/-AIeTBeIaQPw/T_OBnTwxVII/AAAAAAAAB0E/18oyD_5vLaA/s1600/dystopia_minority_report_2.jpg" style="background-image: url(http://2.bp.blogspot.com/-AIeTBeIaQPw/T_OBnTwxVII/AAAAAAAAB0E/18oyD_5vLaA/s1600/dystopia_minority_report_2.jpg);">
      <article>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
            <h2>Problem</h2>
        </header>

        <div>
          Working on a Ruby on Rails project:
          <ul class="box" style="margin-top: 10px; padding: 10px; text-align: left">
            <li><mark>Terminal 1:</mark> Vim</li>
            <li><mark>Terminal 2:</mark> Rails server</li>
            <li><mark>Terminal 3:</mark> git/rspec/stuff</li>
          </ul>
        </div>

        <div data-step="move">
          Then... a wild companion appear, help me on another rails project please!
          <ul class="box" style="margin-top: 10px; padding: 10px; text-align: left">
            <li><mark>Terminal 4:</mark> Vim</li>
            <li><mark>Terminal 5:</mark> Rails server</li>
            <li><mark>Terminal 6:</mark> git/rspec/stuff</li>
          </ul>
        </div>

        <div data-step="move">
          Then... a wild bug appear in a random PHP project...
          <ul class="box" style="margin-top: 10px; padding: 10px; text-align: left">
            <li><mark>Terminal 7:</mark> Vim</li>
            <li><mark>Terminal 8:</mark> Apache server</li>
            <li><mark>Terminal 9:</mark> Log or something</li>
          </ul>
        </div>

        <div data-step="move">
          Result...
        </div>
      </article>
    </section>

    <section>
      <article>
        <img src="assets/image/over9000.jpg" class="bordered" style="width: 1000px;" />
      </article>
    </section>

    <section>
      <article>
        <header class="box">
            <h2>Installation</h2>
        </header>
        
        <div>
          Compile the source code... Or:
        </div>

        <div>
          <span class="column box big">
            On linux:
            <pre>
              <code data-language="bash">sudo apt-get install tmux</code>
            </pre>
          </span>

          <span class="column box big">
            On MacOS X:
            <pre>
              <code data-language="bash">brew install tmux</code>
            </pre>
          </span>
        </div>

        <div data-step="fade">
          Then open a terminal and launch it:
          <pre>
            <code data-language="bash">$ tmux</code>
          </pre>
        </div>
      </article>

    </section>

    <section>
      <article>
        <div>
          <h2 style="margin-bottom: 20px;">tmux with initial configuration</h2>
          <img src="assets/image/tmux_init.png" class="bordered" style="width: 1000px;" />
        </div>

        <div data-step="move">
          what? It's the same terminal!
        <div>
      </article>
    </section>

    <section>
      <article>
        <div>
          <img src="http://img4.img8.joyreactor.com/images/templates/solo/no.jpg" class="bordered" />
        </div>

        <div data-step="move">
          Now we are on tmux and we have the power!
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Commands</h2>
        </header>

        <div>
          Let's review some useful commands...
        </div>

        
        <div data-step="move">
          <div>
            Wait! All commands begin with a combination of keys called PREFIX:
          </div>

          <div class="box" style="padding: 10px">
           Default combination: Ctrl-b
          </div>
        </div>

        <div data-step="move">
          <div>
            Let's remap PREFIX to something more comfortable:
          </div>

          <div style="padding: 10px">
            <pre data-language="tmux">
              # $HOME/.tmux.conf
              # Use C-a as prefix for all sessions
              set -g prefix C-a
            </pre>
          </div>
        </div>

        <div data-step="move">
          Restart tmux and you can use Ctrl-a as the PREFIX.
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Commands</h2>
        </header>

        <div>
          <ul class="box" style="margin-top: 10px; padding: 10px; text-align: left">
            <li>PREFIX c: Create another window</li>
            <li>PREFIX n: Next window</li>
            <li>PREFIX p: Previous window</li>
            <li>PREFIX w: Display list of windows</li>
            <li>PREFIX %: Create vertical pane</li>
            <li>PREFIX ": Create horizontal window</li>
            <li>PREFIX Arrow keys: Move between panes</li>
            <li>PREFIX x: Close pane or window if it is the last pane</li>
            <li>PREFIX d: De-attach session</li>
          </ul>
        </div>

        <div data-step="move">
          <div>
            Tons of commands, I need help!
          </div>

          <div class="box" style="padding: 10px">
            PREFIX ? to the rescue!
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Customization</h2>
        </header>

        <div>
          We can customize almost everything on tmux through .tmux.conf file.
        </div>

        <div data-step="move">
          but first let's add an useful mapping for reloading configuration:
          <div style="padding: 10px">
            <pre data-language="tmux">
              # Bind PREFIX r to reload config file
              bind r source-file ~/.tmux.conf \; display "Reloaded!"
            </pre>
          </div>
        </div>

        <div data-step="move">
          Now we can reload .tmux.conf file configuration live!
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Customization</h2>
        </header>

        <div>
          <h3>Loving Vim?</h3>
        </div>

        <div data-step="move">
          Use vim-like movement keys for panes and help
          <div style="padding: 10px">
            <pre data-language="tmux">
              # Enable vim-mode
              setw -g mode-keys vi

              # Vim-like pane movement keys
              bind h select-pane -L
              bind j select-pane -D
              bind k select-pane -U
              bind l select-pane -R

              # Vim-like pane resize keys
              bind -r H resize-pane -L 5
              bind -r J resize-pane -D 5
              bind -r K resize-pane -U 5
              bind -r L resize-pane -R 5
            </pre>
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Customization</h2>
        </header>

        <div>
          <h3>What about appearence?</h3>
        </div>

        <div data-step="move">
          <div style="padding: 10px">
            <pre data-language="tmux">
              # Enable 256 colors support
              set -g default-terminal "screen-256color"

              # Set status bar foreground and background color
              set -g status-fg white
              set -g status-bg black

              # Set window list colors
              # -- inactive windows
              setw -g window-status-fg cyan
              setw -g window-status-bg default
              setw -g window-status-attr dim
              # -- active window
              setw -g window-status-current-fg white
              setw -g window-status-current-bg red
              setw -g window-status-current-attr bright

              # Set command line colors
              set -g message-fg white
              set -g message-bg black
              set -g message-attr bright
            </pre>
          </div>
        </div>
      </article>
    </section>
    
    <section>
      <article>
        <header class="box">
          <h2>Customization</h2>
        </header>

        <div>
          <h3>My status bar</h3>
        </div>

        <div data-step="move">
          <div style="padding: 10px">
            <pre data-language="tmux">
              # Set status left panel
              set -g status-left-length 40
              set -g status-left "#[fg=green]#S #[fg=yellow]#I #[fg=cyan]#P"

              # Set status right panel
              set -g status-right "#[fg=cyan]%d %b %R"

              # Support for UTF-8
              set -g status-utf8 on

              # Set status bar refresh time
              set -g status-interval 60

              # Set window list configuration
              set -g status-justify centre

              # Visual notification for window activity
              setw -g monitor-activity on
              set -g visual-activity on
            </pre>
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Sessions</h2>
        </header>

        <div>
          Best feature ever! :)
        </div>

        <div data-step="move">
          Remember de-attach session command explained earlier?
          <div style="padding: 10px">
            <div class="box" style="padding: 10px">
              PREFIX d
            </div>
          </div>
        </div>

        <div data-step="move">
          Re-attach the session from command line:
          <div style="padding: 10px">
            <pre data-language="bash">
              $ tmux attach -t $SESSION_NAME
            </pre>
          </div>
        </div>

        <div data-step="move">
          Create a new session from command line:
          <div style="padding: 10px">
            <pre data-language="bash">
              $ tmux new-session -s $SESSION_NAME
            </pre>
          </div>
        </div>

        <div data-step="move">
          You can list all sessions from command line too:
          <div style="padding: 10px">
            <pre data-language="bash">
              $ tmux ls
            </pre>
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Sessions</h2>
        </header>

        <div>
          Very useful for pair programming
        </div>

        <div data-step="move">
          <ul class="box" style="margin-top: 10px; padding: 10px; text-align: left">
            <li>User A creates a new session called "default"</li>
            <li>User B connects to User A's computer using ssh and User A credentials</li>
            <li>User B re-attach to session default</li>
          </ul>
        </div>

        <div data-step="move">
          Another option:
          <ul class="box" style="margin-top: 10px; padding: 10px; text-align: left">
            <li>User A creates a new session using a socket directory (-S option)</li>
            <li>User B connects to User A's computer using ssh and his own credentials</li>
            <li>User B re-attach to session using the socket directory</li>
          </ul>
        </div>
      </article>
    </section>


    <section>
      <article>
        <header class="box">
          <h2>Sessions</h2>
        </header>

        <div>
          Okay, sessions are cool but what about if I shutdown my computer?
        </div>

        <div data-step="move">
          Enter tmuxinator!
          <div style="padding: 10px">
            <pre data-language="bash">
              # Rubygems required
              $ gem install tmuxinator
              $ tmuxinator doctor # Check dependencies
            </pre>
          </div>
        </div>

        <div data-step="move">
          tmuxinator rocks :)!
          <div style="padding: 10px">
            <pre data-language="bash">
              $ tmuxinator open lolcats # Create or edit project lolcats
              $ tmuxinator start lolcats
            </pre>
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <header class="box">
          <h2>Hints</h2>
        </header>

        <div>
          Launch tmux when open a terminal:
          <div style="padding: 10px">
            <pre data-language="zsh">
              # $HOME/.zshrc
              # Launch tmux by default
              if [[ "$TERM" != "screen-256color" ]]
              then
                tmux attach-session -t default || tmux new-session -s default
                exit
              fi
            </pre>
          </div>
        </div>
      </article>
    </section>

    <section>
      <article>
        <h1>Thanks!</h1>
        <div>
          <span class="column small">
            <img src="https://secure.gravatar.com/avatar/24a48de1f9adfa69a9acc04f364c31e7?s=140&d=https://a248.e.akamai.net/assets.github.com%2Fimages%2Fgravatars%2Fgravatar-140.png" class="bordered" />
          </span>
          <span class="column medium">
            <span>david@imesmes.com</span>
            <span>@ultrayoshi</span>
            <span>http://github.com/ultrayoshi/<span>
          </span>
        </div>
      </article>
    </section>

    <script src="assets/javascript/QuoJS.js"></script>
    <script src="assets/javascript//raf.js"></script>
    <script src="http://kinout.tapquo.com/build/kinout-1.0.js"></script>
    <script>
        $$(document).ready(function() {
            KINOUT.init();
        });
    </script>
    <script src="assets/javascript/rainbow/rainbow.min.js"></script>
    <script src="assets/javascript/rainbow/language/generic.js"></script>

</body>
</html>
